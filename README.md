# PES_Ripple-CA

### What is Ripple Carry Adder?

A structure of multiple full adders is cascaded in a manner to gives the results of the addition of an n bit binary sequence. This adder includes cascaded full adders in its structure so, the carry will be generated at every full adder stage in a ripple-carry adder circuit. These carry output at each full adder stage is forwarded to its next full adder and there applied as a carry input to it. This process continues up to its last full adder stage. So, each carry output bit is rippled to the next stage of a full adder. By this reason, it is named as “RIPPLE CARRY ADDER”. The most important feature of it is to add the input bit sequences whether the sequence is 4 bit or 5 bit or any.
“One of the most important point to be considered in this carry adder is the final output is known only after the carry outputs are generated by each full adder stage and forwarded to its next stage. So there will be a delay to get the result with using of this carry adder”.


![Screenshot from 2023-10-18 17-23-52](https://github.com/Vinodkumar8318/PES_4-Bit-RCA/assets/142583979/f567ae74-e07f-444a-8bf8-5343f5bab044)



### Working of 4-bit Ripple Carry Adder

 - Let’s take an example of two input sequences 0101 and 1010. These are representing the A4 A3 A2 A1 and B4 B3 B2 B1.
 - As per this adder concept, input carry is 0.
 - When Ao & Bo are applied at 1st full adder along with input carry 0.
 - Here A1 =1 ; B1=0 ; Cin=0
 - Sum (S1) and carry (C1) will be generated as per the Sum and Carry equations of this adder. As per its theory, the output equation for the Sum = A1⊕B1⊕Cin and Carry = A1B1⊕B1Cin⊕CinA1
 - As per this equation, for 1st full adder S1 =1 and Carry output i.e., C1=0.
 - Same like for next input bits A2 and B2, output S2 = 1 and C2 = 0. Here the important point is the second stage full adder gets input carry i.e., C1 which is the output carry of initial stage       full adder.
 - Like this will get the final output sequence (S4 S3 S2 S1) = (1 1 1 1) and Output carry C4 = 0
 - This is the addition process for 4-bit input sequences when it’s applied to this carry adder.



## Installation

For installation and more details regarding iverilog, yosys and gtkwave, refer to :

https://github.com/Vinodkumar8318/pes_asic_class


## Simulation

+ `iverilog PES_RCA.v PES_FA.v PES_RCA_TB.v`
+ `./a.out`
+ `gtkwave PES_RCA.vcd`



![Screenshot from 2023-10-18 16-32-24](https://github.com/Vinodkumar8318/PES_Ripple-CA/assets/142583979/a8db44b0-fe09-4a7b-b27f-05a4f7ac4660)

![Screenshot from 2023-10-18 16-36-16](https://github.com/Vinodkumar8318/PES_Ripple-CA/assets/142583979/8fb70553-021e-41cf-b1d2-95dae4e9a2c2)

![Screenshot from 2023-10-18 16-40-36](https://github.com/Vinodkumar8318/PES_Ripple-CA/assets/142583979/d4797e84-6995-494d-94dc-b7b38d3723f2)


## Synthesis
+ Invoke `yosys`
+ `read_liberty -lib lib/sky130_fd_sc_hd__tt_025C_1v80.lib`
+ `read_verilog PES_RCA.v PES_FA.v`
+ `synth -top PES_RCA`
+ `dfflibmap -liberty lib/sky130_fd_sc_hd__tt_025C_1v80.lib `
+ `abc -liberty lib/sky130_fd_sc_hd__tt_025C_1v80.lib`
+ `flatten`
+ `write_verilog PES_RCA_netlist.v`
+ `show PES_RCA`

![Screenshot from 2023-10-18 16-55-51](https://github.com/Vinodkumar8318/PES_Ripple-CA/assets/142583979/7ac40242-1ac8-471f-a72e-9232669049d5)


![Screenshot from 2023-10-18 16-59-28](https://github.com/Vinodkumar8318/PES_Ripple-CA/assets/142583979/e2a7649c-6ea4-44db-8516-037246e29121)



## Gate-Level Simulation

+ `iverilog my_lib/verilog_model/primitives.v my_lib/verilog_model/sky130_fd_sc_hd.v PES_RCA_netlist.v PES_RCA_TB.v`
+ `./a.out`
+ `gtkwave PES_RCA.vcd`


![Screenshot from 2023-10-18 17-11-32](https://github.com/Vinodkumar8318/PES_Ripple-CA/assets/142583979/4a17c7d8-2655-48d7-bc16-b6296053f8b1)


![Screenshot from 2023-10-18 17-12-11](https://github.com/Vinodkumar8318/PES_Ripple-CA/assets/142583979/fe61ee59-7b16-4340-bcf8-5ad0ef8a30fa)

 
![Screenshot from 2023-10-18 17-09-35](https://github.com/Vinodkumar8318/PES_Ripple-CA/assets/142583979/6e27ee1b-5b05-440a-88b8-9565190c18ee)


We can observe that output of functional simulation is matching with the output of gate level simulation, this means that the netlist generated by yosys is correct.
